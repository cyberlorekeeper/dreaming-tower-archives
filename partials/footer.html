<!-- Return to Top Button -->
<button 
  id="returnToTop" 
  class="fixed bottom-6 right-6 z-50 hidden focus-ring rounded-full bg-abyss/90 border border-rift/60 p-3 shadow-glow hover:border-glow/60 hover:bg-abyss transition-all group"
  aria-label="Return to top"
  title="Return to top">
  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-stardust/80 group-hover:text-glow transition-colors">
    <polyline points="18 15 12 9 6 15"/>
  </svg>
</button>

<script>
(function() {
  const returnToTopBtn = document.getElementById('returnToTop');
  if (!returnToTopBtn) return;

  window.addEventListener('scroll', () => {
    if (window.scrollY > 400) {
      returnToTopBtn.classList.remove('hidden');
    } else {
      returnToTopBtn.classList.add('hidden');
    }
  }, { passive: true });

  returnToTopBtn.addEventListener('click', () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });
})();
</script>

<footer class="relative z-20 mx-auto max-w-7xl px-6 py-16 text-center">
  <p class="text-sm text-stardust/70">
    © <span id="year"></span> The Cyber Lorekeeper
  </p>

  <p class="mt-2 text-xs text-stardust/55">
    Recovered chronicles from the Dreaming Tower archives.
  </p>

  <div class="mt-4 flex justify-center gap-4 text-xs text-stardust/65">
    <a href="/subscribe/" class="hover:text-glow">Subscribe</a>
    <span>•</span>
    <a href="/author/" class="hover:text-glow">About the Author</a>
  </div>
</footer>

<script>
  document.getElementById('year').textContent = new Date().getFullYear();
 
  const navToggle = document.getElementById('navToggle');
  const mobileNavPanel = document.getElementById('mobileNavPanel');

  if (navToggle && mobileNavPanel) {
    navToggle.addEventListener('click', () => {
      const isOpen = navToggle.getAttribute('aria-expanded') === 'true';
      navToggle.setAttribute('aria-expanded', String(!isOpen));
      mobileNavPanel.classList.toggle('hidden', isOpen);
    });
  }
</script>
